name: Build

description: Build packages
inputs:
  NX_CLOUD_ACCESS_TOKEN:
    required: true
    description: "Nx Cloud Token"

runs:
  using: composite
  steps:
    - name: Build
      env:
        NODE_OPTIONS: --max_old_space_size=8192
        NX_CLOUD_ACCESS_TOKEN: ${{ inputs.NX_CLOUD_ACCESS_TOKEN }}
      shell: bash
      run: npx nx affected --base=last-release --target=build
